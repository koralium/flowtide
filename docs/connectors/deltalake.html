<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-connectors/deltalake" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Delta Lake Connector | Flowtide</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://koralium.github.io/flowtide/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://koralium.github.io/flowtide/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://koralium.github.io/flowtide/docs/connectors/deltalake"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Delta Lake Connector | Flowtide"><meta data-rh="true" name="description" content="The Delta Lake connector allows a stream to read existing data &amp; changes from a delta lake table."><meta data-rh="true" property="og:description" content="The Delta Lake connector allows a stream to read existing data &amp; changes from a delta lake table."><link data-rh="true" rel="icon" href="/flowtide/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://koralium.github.io/flowtide/docs/connectors/deltalake"><link data-rh="true" rel="alternate" href="https://koralium.github.io/flowtide/docs/connectors/deltalake" hreflang="en"><link data-rh="true" rel="alternate" href="https://koralium.github.io/flowtide/docs/connectors/deltalake" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Connectors","item":"https://koralium.github.io/flowtide/docs/category/connectors"},{"@type":"ListItem","position":2,"name":"Delta Lake Connector","item":"https://koralium.github.io/flowtide/docs/connectors/deltalake"}]}</script><link rel="alternate" type="application/rss+xml" href="/flowtide/blog/rss.xml" title="Flowtide RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/flowtide/blog/atom.xml" title="Flowtide Atom Feed"><link rel="stylesheet" href="/flowtide/assets/css/styles.a96fc441.css">
<script src="/flowtide/assets/js/runtime~main.d1f07363.js" defer="defer"></script>
<script src="/flowtide/assets/js/main.8f448eb6.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/flowtide/"><b class="navbar__title text--truncate">Flowtide.NET</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/flowtide/docs/intro">Documentation</a><a class="navbar__item navbar__link" href="/flowtide/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/koralium/flowtide" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/flowtide/docs/intro"><span title="Getting started" class="linkLabel_WmDU">Getting started</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/flowtide/docs/statepersistence"><span title="State Persistence" class="linkLabel_WmDU">State Persistence</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/flowtide/docs/parallelism"><span title="Parallelism" class="linkLabel_WmDU">Parallelism</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/flowtide/docs/category/connectors"><span title="Connectors" class="categoryLinkLabel_W154">Connectors</span></a><button aria-label="Collapse sidebar category &#x27;Connectors&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flowtide/docs/connectors/catalogs"><span title="Catalogs" class="linkLabel_WmDU">Catalogs</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flowtide/docs/connectors/configurationdata"><span title="Configuration Data" class="linkLabel_WmDU">Configuration Data</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flowtide/docs/connectors/sqlserver"><span title="SQL Server Connector" class="linkLabel_WmDU">SQL Server Connector</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/flowtide/docs/connectors/deltalake"><span title="Delta Lake Connector" class="linkLabel_WmDU">Delta Lake Connector</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flowtide/docs/connectors/mongodb"><span title="MongoDB Connector" class="linkLabel_WmDU">MongoDB Connector</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flowtide/docs/connectors/cosmosdb"><span title="CosmosDB Connector" class="linkLabel_WmDU">CosmosDB Connector</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flowtide/docs/connectors/elasticsearch"><span title="Elasticsearch Connector" class="linkLabel_WmDU">Elasticsearch Connector</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flowtide/docs/connectors/kafka"><span title="Kafka Connector" class="linkLabel_WmDU">Kafka Connector</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flowtide/docs/connectors/customdata"><span title="Custom Data Source" class="linkLabel_WmDU">Custom Data Source</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flowtide/docs/connectors/sharepoint"><span title="Sharepoint Connector" class="linkLabel_WmDU">Sharepoint Connector</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flowtide/docs/connectors/openfga"><span title="OpenFGA Connector" class="linkLabel_WmDU">OpenFGA Connector</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flowtide/docs/connectors/spicedb"><span title="AuthZed/SpiceDB Connector" class="linkLabel_WmDU">AuthZed/SpiceDB Connector</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flowtide/docs/connectors/permify"><span title="Permify Connector" class="linkLabel_WmDU">Permify Connector</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flowtide/docs/connectors/files"><span title="Files Connector" class="linkLabel_WmDU">Files Connector</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flowtide/docs/connectors/qdrant"><span title="Qdrant connector" class="linkLabel_WmDU">Qdrant connector</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/flowtide/docs/connectors/starrocks"><span title="Starrocks Connector" class="linkLabel_WmDU">Starrocks Connector</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/flowtide/docs/deployment"><span title="Deployment" class="categoryLinkLabel_W154">Deployment</span></a><button aria-label="Expand sidebar category &#x27;Deployment&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/flowtide/docs/category/monitoring"><span title="Monitoring" class="categoryLinkLabel_W154">Monitoring</span></a><button aria-label="Expand sidebar category &#x27;Monitoring&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/flowtide/docs/category/operators"><span title="Operators" class="categoryLinkLabel_W154">Operators</span></a><button aria-label="Expand sidebar category &#x27;Operators&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/flowtide/docs/category/expressions"><span title="Expressions" class="categoryLinkLabel_W154">Expressions</span></a><button aria-label="Expand sidebar category &#x27;Expressions&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/flowtide/docs/sql"><span title="SQL" class="categoryLinkLabel_W154">SQL</span></a><button aria-label="Expand sidebar category &#x27;SQL&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/flowtide/docs/testing"><span title="Testing" class="categoryLinkLabel_W154">Testing</span></a><button aria-label="Expand sidebar category &#x27;Testing&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/flowtide/docs/category/internal"><span title="Internal" class="categoryLinkLabel_W154">Internal</span></a><button aria-label="Expand sidebar category &#x27;Internal&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/flowtide/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/flowtide/docs/category/connectors"><span>Connectors</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Delta Lake Connector</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Delta Lake Connector</h1></header>
<p>The Delta Lake connector allows a stream to read existing data &amp; changes from a delta lake table.</p>
<p>The nuget package for the connector is:</p>
<ul>
<li class="">FlowtideDotNet.Connector.DeltaLake</li>
</ul>
<p>The easiest way to get started with both the source and the sink is to use the <code>AddDeltaLakeCatalog</code> method that registers them both under a catalog name.</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">connectorManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">AddDeltaLakeCatalog</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;my_catalog&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">DeltaLakeOptions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Connect to local disk, azure, AWS etc here, add the directory beneath the actual table you want to query (table name and folders are selected in the query)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    StorageLocation </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Files</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Of</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">LocalDisk</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;./testdata&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>This then allows you to both read and write in sql:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INTO</span><span class="token plain"> my_catalog</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">{optional_directory_name}</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">my_table_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> my_catalog</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">{optional_directory_name}</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">my_table_name</span><br></span></code></pre></div></div>
<p>As with all other connectors you can ofcourse read and write from and to any other connector.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="options">Options<a href="#options" class="hash-link" aria-label="Direct link to Options" title="Direct link to Options" translate="no">​</a></h2>
<p>These are the options that can be configured when adding the delta lake connector:</p>
<table><thead><tr><th>Name</th><th>Description</th><th>Default</th><th>Required</th></tr></thead><tbody><tr><td>StorageLocation</td><td>Connection where the tables are located</td><td>Null</td><td>Yes</td></tr><tr><td>OneVersionPerCheckpoint</td><td>Only used for reading, it then makes sure that each commit is sent once per checkpoint</td><td>False</td><td>No</td></tr><tr><td>DeltaCheckInterval</td><td>Only used for reading, how often it should be checked if a new commit exists</td><td>10 seconds</td><td>No</td></tr><tr><td>WriteChangeDataOnNewTables</td><td>If new tables created by the connector should enable change feed</td><td>False</td><td>No</td></tr><tr><td>EnableDeletionVectorsOnNewTables</td><td>If new tables created by the connector should enable deletion vectors</td><td>True</td><td>No</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="delta-lake-source">Delta Lake Source<a href="#delta-lake-source" class="hash-link" aria-label="Direct link to Delta Lake Source" title="Direct link to Delta Lake Source" translate="no">​</a></h2>
<p>The delta lake source allows ingesting data from a delta lake table. To connect to a delta lake table, use <code>AddDeltaLake</code> method on the connector manager.</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">connectorManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">AddDeltaLakeSource</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">DeltaLakeOptions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Connect to local disk, azure, AWS etc here, add the directory beneath the actual table you want to query (table name and folders are selected in the query)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    StorageLocation </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Files</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Of</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">LocalDisk</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;./testdata&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>The delta lake connector uses <a href="https://github.com/aloneguid/stowage" target="_blank" rel="noopener noreferrer" class="">Stowage</a> to allow connection to different cloud storage solutions, please visit that link to
check possible connections.</p>
<p>Important to note is that the directory of storage location should be beneath the actual table you want to query. The actual table is selected in the query. Example:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INTO</span><span class="token plain"> output</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> my_delta_lake_table</span><br></span></code></pre></div></div>
<p>In combination with the connector manager addition above, this will use the path <code>./testdata/my_delta_lake_table</code>.</p>
<p>If you instead would write:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INTO</span><span class="token plain"> output</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> my_folder</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">my_delta_lake_table</span><br></span></code></pre></div></div>
<p>It becomes: <code>./testdata/my_fylder/mmy_delta_lake_table</code>.</p>
<p>The delta lake source can calculate all the changes from the table, so no additional state is stored in the stream of the data to correctly calculate changes.</p>
<p><strong>Supported features</strong></p>
<ul>
<li class="">Calculate change data from add/remove actions</li>
<li class="">Use cdc files if they exist for change data</li>
<li class="">Deletion vectors</li>
<li class="">Partitioned data</li>
<li class="">Column mapping</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="replaying-delta-changes">Replaying delta changes<a href="#replaying-delta-changes" class="hash-link" aria-label="Direct link to Replaying delta changes" title="Direct link to Replaying delta changes" translate="no">​</a></h3>
<p>One feature of the delta lake source is the possibility to replay the log where each commit to the delta table is sent separately once per checkpoint.
This can be useful in unit tests, but also if one wants to send historic data to a destination system such as a time-series database and not skip over a commit.</p>
<p>To use the replay functionality use the following setting in options:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">connectorManager</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">AddDeltaLakeSource</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">DeltaLakeOptions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    StorageLocation </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Files</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Of</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">LocalDisk</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;./testdata&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OneVersionPerCheckpoint </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="sample">Sample<a href="#sample" class="hash-link" aria-label="Direct link to Sample" title="Direct link to Sample" translate="no">​</a></h3>
<p>There is an example in the samples folder that uses the Delta Lake Source to read data from an azure blob storage.
To run the example, start the <code>AspireSamples</code> project and select one of:</p>
<ul>
<li class="">DeltaLake-Source</li>
<li class="">DeltaLake-Source, Replay history</li>
</ul>
<p>After the project has started, inspect the console log of the application to see a log output of the rows.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="azure-blob-storage-configuration-example">Azure Blob Storage Configuration Example<a href="#azure-blob-storage-configuration-example" class="hash-link" aria-label="Direct link to Azure Blob Storage Configuration Example" title="Direct link to Azure Blob Storage Configuration Example" translate="no">​</a></h3>
<p>When using Azure Blob Storage you would configure the storage example like this example:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">connectors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">AddDeltaLakeSource</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">DeltaLakeOptions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    StorageLocation </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Files</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Of</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">AzureBlobStorage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">accountName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> accountKey</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>This connects the source to the root of the blob storage, to then query a table you must include the container name and all subfolders to the table location:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> my_container</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">my_optional_parent_folder</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">my_table</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="delta-lake-sink">Delta Lake Sink<a href="#delta-lake-sink" class="hash-link" aria-label="Direct link to Delta Lake Sink" title="Direct link to Delta Lake Sink" translate="no">​</a></h2>
<p>The delta lake sink allows to materialize/denormalize queries as a delta lake table. The connector will continuously update the table on each checkpoint.
It does not write on each watermark update, this is done to reduce the amount of files that are written and try to only write consistent updates.
This means that the write frequency can be modified by changing how often a checkpoint is taken.</p>
<p>To add the delta lake sink, write the following to the connector manager:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">connectors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">AddDeltaLakeSink</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">DeltaLakeOptions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    StorageLocation </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Files</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Of</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">LocalDisk</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;./testdata&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>Delta Lake Features:</p>
<ul>
<li class="">Deletion vectors</li>
<li class="">Statistics output</li>
<li class="">Data file skipping</li>
<li class="">Change data files</li>
</ul>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>The delta lake sink does not yet support partitioned tables.</p></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="change-data-feed">Change data feed<a href="#change-data-feed" class="hash-link" aria-label="Direct link to Change data feed" title="Direct link to Change data feed" translate="no">​</a></h3>
<p>It is possible to enable flowtide to write change data files which can help speed up change data readers.
This is done by setting the flag <code>WriteChangeDataOnNewTables</code> to <code>true</code> in the options when configuring the delta lake connector.
If it is an existing table, the writerFeatures in protocol must contain <code>changeDataFeed</code> and the metadata configuration must contain <code>delta.enableChangeDataFeed</code>
set to <code>true</code>.</p>
<p>This creates new files in a <code>_change_data</code> folder and adds the corresponding actions in the delta log.
Change data files are only added if there are deletes on existing rows, since the <code>add</code> action gives the same performance
to read change data if there are no deletes. This also saves on storage space.</p>
<p>To be able to reduce memory usage, Flowtide writes the change data files as it creates a commit, but they can then be deleted
before completing the commit.</p>
<p>Since this connector writes the exact result set in the query, it does not have the concept of primary keys and rows can be duplicated if that is the result
of the query. This means that the change data feed only contains <code>delete</code> and <code>insert</code> operations.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="supported-data-types">Supported data types<a href="#supported-data-types" class="hash-link" aria-label="Direct link to Supported data types" title="Direct link to Supported data types" translate="no">​</a></h3>
<p>Flowtide can write the following data types to a delta lake table:</p>
<ul>
<li class="">Array</li>
<li class="">Binary</li>
<li class="">Boolean</li>
<li class="">Date</li>
<li class="">Decimal</li>
<li class="">Float</li>
<li class="">Double</li>
<li class="">Byte</li>
<li class="">Short</li>
<li class="">Integer</li>
<li class="">Long</li>
<li class="">String</li>
<li class="">Timestamp</li>
<li class="">Struct</li>
<li class="">Map</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="creating-a-new-table">Creating a new table<a href="#creating-a-new-table" class="hash-link" aria-label="Direct link to Creating a new table" title="Direct link to Creating a new table" translate="no">​</a></h3>
<p>It is possible to create a new delta lake table if it does not exist. This is done by using the <code>CREATE TABLE</code> syntax to
clearly set the data types for each column.</p>
<p>Not all delta lake data types are supported in Flowtide SQL, so for full type support please create an empty table manually.
The data types that are supported with <code>CREATE TABLE</code> and how they are mapped are:</p>
<table><thead><tr><th>Flowtide SQL name</th><th>Flowtide Internal Type</th><th>Delta Lake name</th><th>Comment</th></tr></thead><tbody><tr><td>int</td><td>Integer</td><td>long</td><td>In flowtide integers are treated as the same type, the size is dynamically increased.</td></tr><tr><td>binary</td><td>binary</td><td>binary</td><td></td></tr><tr><td>boolean</td><td>boolean</td><td>boolean</td><td></td></tr><tr><td>date</td><td>timestamp</td><td>date</td><td></td></tr><tr><td>decimal</td><td>decimal</td><td>decimal</td><td>Flowtide uses C# decimal format, this then gets converted into a decimal with precision and scale.</td></tr><tr><td>double</td><td>double</td><td>double</td><td>Flowtide only manages double precision floating point numbers.</td></tr><tr><td>timestamp</td><td>timestamp</td><td>timestamp</td><td></td></tr><tr><td>struct</td><td>map</td><td>struct</td><td>Map should be used to create struct values at this point.</td></tr><tr><td>map</td><td>map</td><td>map</td><td></td></tr><tr><td>list</td><td>list</td><td>array</td><td></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sql-example">Sql example<a href="#sql-example" class="hash-link" aria-label="Direct link to Sql example" title="Direct link to Sql example" translate="no">​</a></h4>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> test </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  intval </span><span class="token keyword" style="color:#00009f">INT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  binval </span><span class="token keyword" style="color:#00009f">BINARY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  boolval </span><span class="token keyword" style="color:#00009f">BOOLEAN</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  dateval </span><span class="token keyword" style="color:#00009f">DATE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  decimalVal </span><span class="token keyword" style="color:#00009f">DECIMAL</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">19</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  doubleVal </span><span class="token keyword" style="color:#00009f">DOUBLE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  timeVal </span><span class="token keyword" style="color:#00009f">TIMESTAMP</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  structVal STRUCT</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">firstName STRING</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lastName STRING</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  mapVal MAP</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">STRING</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> STRING</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  listVal LIST</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">STRING</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INTO</span><span class="token plain"> test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  intval</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  binval</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  boolval</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  dateval</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  decimalVal</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  doubleVal</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  timeVal</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  MAP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;firstName&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> firstName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;lastName&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lastName</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> structVal</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  MAP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;firstName&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> firstName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;lastName&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lastName</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> mapVal</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">firstName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lastName</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> listVal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> my_source_table</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/koralium/flowtide/tree/main/docs/docs/connectors/deltalake.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/flowtide/docs/connectors/sqlserver"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">SQL Server Connector</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/flowtide/docs/connectors/mongodb"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">MongoDB Connector</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#options" class="table-of-contents__link toc-highlight">Options</a></li><li><a href="#delta-lake-source" class="table-of-contents__link toc-highlight">Delta Lake Source</a><ul><li><a href="#replaying-delta-changes" class="table-of-contents__link toc-highlight">Replaying delta changes</a></li><li><a href="#sample" class="table-of-contents__link toc-highlight">Sample</a></li><li><a href="#azure-blob-storage-configuration-example" class="table-of-contents__link toc-highlight">Azure Blob Storage Configuration Example</a></li></ul></li><li><a href="#delta-lake-sink" class="table-of-contents__link toc-highlight">Delta Lake Sink</a><ul><li><a href="#change-data-feed" class="table-of-contents__link toc-highlight">Change data feed</a></li><li><a href="#supported-data-types" class="table-of-contents__link toc-highlight">Supported data types</a></li><li><a href="#creating-a-new-table" class="table-of-contents__link toc-highlight">Creating a new table</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/flowtide/docs/intro">Tutorial</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/koralium/flowtide" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Supported by the <a href="https://dotnetfoundation.org">.NET Foundation</a>. Copyright © 2026 .NET Foundation. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>