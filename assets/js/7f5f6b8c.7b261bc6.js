"use strict";(self.webpackChunkflowtide=self.webpackChunkflowtide||[]).push([[470],{1406:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>s,default:()=>u,frontMatter:()=>l,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"connectors/sqlserver","title":"SQL Server Connector","description":"The SQL Server connector has three different parts:","source":"@site/docs/connectors/sqlserver.md","sourceDirName":"connectors","slug":"/connectors/sqlserver","permalink":"/flowtide/docs/connectors/sqlserver","draft":false,"unlisted":false,"editUrl":"https://github.com/koralium/flowtide/tree/main/docs/docs/connectors/sqlserver.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Configuration Data","permalink":"/flowtide/docs/connectors/configurationdata"},"next":{"title":"Delta Lake Connector","permalink":"/flowtide/docs/connectors/deltalake"}}');var r=i(4848),a=i(8453);const l={sidebar_position:1},s="SQL Server Connector",o={},c=[{value:"Supported Data Types",id:"supported-data-types",level:2},{value:"Source",id:"source",level:2},{value:"Reading with change tracking",id:"reading-with-change-tracking",level:3},{value:"Reading without change tracking",id:"reading-without-change-tracking",level:3},{value:"Reading from views",id:"reading-from-views",level:4},{value:"Reading from tables",id:"reading-from-tables",level:4},{value:"Reading from large views or tables without change tracking",id:"reading-from-large-views-or-tables-without-change-tracking",level:4},{value:"Retry strategy (reading from SQL Server)",id:"retry-strategy-reading-from-sql-server",level:3},{value:"Sink",id:"sink",level:2},{value:"Custom Primary Keys",id:"custom-primary-keys",level:3},{value:"SQL Table Provider",id:"sql-table-provider",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"sql-server-connector",children:"SQL Server Connector"})}),"\n",(0,r.jsx)(n.p,{children:"The SQL Server connector has three different parts:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Source"})," - Reads data from a SQL Server table."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Sink"})," - Writes results from a stream into a SQL Server table."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Table Provider"})," - Provides table information to the SQL plan builder."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"supported-data-types",children:"Supported Data Types"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.em,{children:"SQL Server connector"})," supports reading and writing the following data types:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Int"}),"\n",(0,r.jsx)(n.li,{children:"BigInt"}),"\n",(0,r.jsx)(n.li,{children:"Binary"}),"\n",(0,r.jsx)(n.li,{children:"Bit"}),"\n",(0,r.jsx)(n.li,{children:"Char"}),"\n",(0,r.jsx)(n.li,{children:"Date"}),"\n",(0,r.jsx)(n.li,{children:"Datetime"}),"\n",(0,r.jsx)(n.li,{children:"Datetime2"}),"\n",(0,r.jsx)(n.li,{children:"Decimal"}),"\n",(0,r.jsx)(n.li,{children:"Float"}),"\n",(0,r.jsx)(n.li,{children:"Image"}),"\n",(0,r.jsx)(n.li,{children:"Money"}),"\n",(0,r.jsx)(n.li,{children:"Nchar"}),"\n",(0,r.jsx)(n.li,{children:"Ntext"}),"\n",(0,r.jsx)(n.li,{children:"Numeric"}),"\n",(0,r.jsx)(n.li,{children:"Nvarchar"}),"\n",(0,r.jsx)(n.li,{children:"Real"}),"\n",(0,r.jsx)(n.li,{children:"Smalldatetime"}),"\n",(0,r.jsx)(n.li,{children:"Smallint"}),"\n",(0,r.jsx)(n.li,{children:"Text"}),"\n",(0,r.jsx)(n.li,{children:"Time"}),"\n",(0,r.jsx)(n.li,{children:"Tinyint"}),"\n",(0,r.jsx)(n.li,{children:"Uniqueidentifier"}),"\n",(0,r.jsx)(n.li,{children:"Varbinary"}),"\n",(0,r.jsx)(n.li,{children:"Varchar"}),"\n",(0,r.jsx)(n.li,{children:"Xml"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"source",children:"Source"}),"\n",(0,r.jsx)(n.p,{children:"The SQL Server Source allows Flowtide to fetch rows and upates from a SQL Server table."}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:"It's strongly recommended that change tracking is enabled on the targeted tables. And must be enabled to allow near-realtime streaming."})}),"\n",(0,r.jsx)(n.p,{children:"The source uses the following logic to fetch data into the stream:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2MDAgMTgwIj4KICA8cGF0aAogICAgZmlsbD0iI2FhYSIKICAgIGQ9Ik05Mi4xNyAzOS43NWMtLjE4LjIxIDAgLjk5Ljk3IDQuMTEuNzcgMi41Ljk1IDMuNy42OCA0LjY2LS4yMy44Mi0uNjEgMS4xOC0xLjYgMS40OS0uNDIuMTMtLjg2LjI4LS45OC4zMi0uMTIuMDQtLjM3LjAxLS41NS0uMDYtLjU5LS4yNC0xLjcxLTIuMTUtMi41Mi00LjMxLTEuNjMtNC4zNS0zLjc2LTE0LjQyLTUuNy0yNi45LS42MS0zLjk0LS43My01Ljc2LS40Ni02LjcxLjIyLS43OC45MS0xLjY2IDEuNTEtMS45Ny45OC0uNSAxLjM3LS41IDIuMzYtLjAzLjQ3LjIyNi43ODYuMzQzIDEuMDAyLjU2Mi40NDkuNDU1LjQ1NiAxLjM0Ni40OCA0LjU2NWwuMDA4Ljk2M2MuMDMgMy42My4xMiA1LjYuMyA3LjA1LjQxIDMuMTQuNTkgNC4wMi44NyA0LjA4LjE1LjAyLjc4LS42IDEuNjktMS42NyAxLjg3LTIuMjIgNS4wNC01LjI4IDYuNDMtNi4yIDEuODMtMS4yMyAyLjg2LTEuNjMgNC4xMi0xLjY0LjgzIDAgMS4yNS4wOCAxLjc5LjM1LjkzLjQ2IDEuMTYuOTUuOTkgMi4wN2wtLjEzLjg2LTIuMjcgMi4wNWMtMy43NSAzLjM5LTcuMTIgNy4wNy04LjMgOS4wOS0uNDkuODMtLjQ1IDEuMTIuMTYgMS4yNS41Ni4xMiA3Ljc1IDIuNjIgMTAuNDEgMy42MSAxLjE2LjQ0IDIuNjcuOTggMy4zNSAxLjIgMS42LjUzIDEuOTEuODYgMS45OSAyLjEuMTggMi43Mi0xLjExIDMuNTQtNC43OSAzLjA2LTMuMzYtLjQ0LTYuMDUtMS4yOS05LjQ5LTMuMDMtMS42NC0uODMtMi4yMS0xLjA2LTIuMzItLjkyWk0yMy4xOCAxNC45Yy0yLjk3IDAtNS42Ni44NC03LjkgMi40Ni0xLjc4IDEuMy02LjUxIDYuNDEtNy40NCA4LjA1LS40Ny44My0uODQgMS4wNC0xLjE1LjY0LS40NS0uNTctLjgtMi43NC0xLjAyLTYuMzEtLjMzLTUuNTMtLjUyLTYuNTUtMS41Mi04LjI1bC0uNDEtLjctLjc0LjA4Yy0xLjYuMTktMi41MSAxLjA5LTIuODcgMi44MS0uMjggMS4zMS0uMDkgNS4yNy4zNiA3LjcyIDEuNDQgNy44IDQuMiAxNy44NSA2LjU3IDIzLjg4IDEuMTYgMi45NSAyLjIyIDQuODQgMi45NyA1LjMuNjUuMzkgMS4yNS4zNyAyLjE4LS4xIDEuMDQtLjUxIDEuNDktMS4wOCAxLjcxLTIuMTMuNDMtMi4wOC0uMTEtNC4wMS0xLjk2LTcuMDgtMS40NS0yLjM5LTEuODUtMy4zMS0xLjg4LTQuMzQtLjA0LTEuMS4yMS0xLjI2IDEuNTgtMS4wNCAyLjIuMzcgNC4yOCAxLjM5IDguOSA0LjM3IDUuMTEgMy4zMSA3LjE1IDQuMjIgOS45MiA0LjQ4IDEuMzIuMTIgMS43LS4wNSAyLjE2LS45Ni40Mi0uODQuNDctMi40OS4xLTMuMjgtLjUxLTEuMDctMy40NC0zLjAzLTguMTQtNS40Mi00LjEyLTIuMTEtMTAuNjMtNC45Ni0xMi40Ni01LjQ1LS4xMS0uMDMtLjItLjE4LS4yLS4zMyAwLS40MSAzLjUzLTMuOTIgNi4yMi02LjE4IDIuNTgtMi4xOCA0LjQ2LTQuMDkgNS4xLTUuMTYuMjItLjM4LjQ5LTEuMTEuNTktMS42MWwuMDIzLS4xMWMuMTU4LS43NTQuMjI4LTEuMDg0LjA5NS0xLjIyOC0uMTAzLS4xMTItLjMyOS0uMTEyLS43My0uMTEyaC0uMDU4Wm05MC4yOC0uNWMxLjA1LjY1IDEuNzQgMS43MSAxLjgyIDIuNzcuMDMuNDgtLjAxIDEtLjEgMS4xNy0uNDUuODMtMi4xIDEtNC4yNi40NWwtMS4yOS0uMzMuMDUtLjgzYy4xLTIuMTEuNzktMy4xOCAyLjI0LTMuNDguODEtLjE3Ljg3LS4xNiAxLjU0LjI1Wm0xLjg4IDEwLjdjLjQ2LS4xMS40OC0uMDQuNjUgMS45Ny4xNiAxLjg2LjUyIDMuNjggMS41MSA3LjYzIDEuOTMgNy43IDIuNSAxMC43MSAyLjUgMTMuMiAwIDEuMzEtLjQyIDIuMjgtMS4xNiAyLjcxLS41OC4zMy0xLjc0LjQ1LTIuNTIuMjUtMS4zLS4zMi0yLjA5LTEuMDctMi45OC0yLjg1LTEuNDctMi45Mi0yLjI3LTkuNjYtMi4wNC0xNy4wNGwuMTEtMy4zNS41My0uNjJjLjUxLS42IDIuNDEtMS42NiAzLjQtMS45Wm0tNTguMTUgNy41OGMuNDctMi4yNC0xLTQuNzQtMy40NC01Ljg4LS44NS0uNC0xLjI0LS40OC0yLjQtLjUzLTIuNTMtLjEyLTQuMDEuNDUtNS44MSAyLjI0LTEuNTQgMS41Mi0zLjI2IDQuNC0zLjc4IDYuMzQtLjI1LjkyLS42NC44Mi0xLjA2LS4yNi0uNjQtMS42MS0yLjI0LTQuNzktMi45MS01Ljc4LS45LTEuMzMtMS40OC0xLjcxLTIuNDUtMS42Mi0xLjI3LjEyLTEuOSAxLjE0LTEuOSAzLjA1IDAgMy40NyAzLjk0IDEyLjg5IDcuMiAxNy4yMyAxLjYgMi4xMiAyLjYzIDMuMDIgMy44MiAzLjM0Ljg5LjI0LjkyLjI0IDEuODMuMDUuODItLjE4IDEuNTgtLjg2IDEuNzctMS41OS4xOS0uNzktLjA2LTMuMTgtLjU2LTUuMi0uNDYtMS44NS0uNTEtMi4yMy0uNDktNC4xNS4wMy00LjIxIDEuMDMtNi42NiAyLjk2LTcuMi4zNS0uMS43OS0uMzIuOTgtLjQ4LjQ0LS4zOS41OS0uMjcgMS41IDEuMjlsLjcxIDEuMjEgMS4wMS0uMDhjMS44Ny0uMTYgMi43Ni0uNzQgMy4wMi0xLjk4Wm0uNyA1LjE1Yy44Ni0zLjgzIDQtNy41NiA4LjA4LTkuNjIgMi40OC0xLjI1IDQuNTctMS44MSA3LjE5LTEuOTIgMi40OC0uMTEgMy4xOC4xNCA0Ljc4IDEuNzUgMi4zMiAyLjMyIDMuNiA1LjcyIDMuNDIgOS4wNy0uMSAxLjkxLS4zOSAzLjAxLTEuMTcgNC41OC0xLjcxIDMuNDItNC41NyA2LjIxLTguMDkgNy45LTIuMzEgMS4xMS01LjA1IDEuNTktNy4yNiAxLjI4LTMuNzItLjUxLTYuMTctMy4wNi02Ljk4LTcuMjMtLjI5LTEuNTEtLjI3LTQuNDUuMDMtNS44MVptNy4xMS0uMWMtMS41NSAxLjg0LTEuOSAyLjU3LTEuOSAzLjkgMCAyLjA3Ljc4IDMuMjIgMi40OSAzLjY3Ljc3LjIgMi42Ni4wNCAzLjU0LS4zMiAxLjI2LS40OSAyLjQtMS4zMSAzLjczLTIuNjQgMS4zMy0xLjM1IDIuMDQtMi40MyAyLjYtMy45Ny42Ny0xLjg0LjYxLTMuOTctLjE1LTUuNDctLjQ1LS45Mi0uOTgtMS4yNy0xLjg1LTEuMjYtMS44LjAzLTUuNzcgMi44OS04LjQ2IDYuMDlaIgogIC8+CiAgPHRleHQgeT0iODAiIGZpbGw9IiNhYWEiIGZvbnQtc2l6ZT0iMTQiPkZhaWwsIHBsZWFzZSBjaGVjayB5b3VyIGlucHV0LjwvdGV4dD4KICA8Zm9yZWlnbk9iamVjdCB3aWR0aD0iNjAwIiBoZWlnaHQ9IjgwIiB5PSI5MCIgZm9udC1zaXplPSIxNCI+CiAgICA8ZGl2CiAgICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIgogICAgICBzdHlsZT0iY29sb3I6I2ZmMjIwMDt3b3JkLWJyZWFrOmJyZWFrLWFsbCIKICAgID4KICAgICAgPCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJ1dGYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEiPgogICAgPHRpdGxlPktyb2tpITwvdGl0bGU+CiAgICA8c3R5bGU+CiAgICAgICAgaHRtbCwKICAgICAgICBib2R5LAogICAgICAgIHAsCiAgICAgICAgaDEsCiAgICAgICAgaDIgewogICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICAgIHBhZGRpbmc6IDA7CiAgICAgICAgfQoKICAgICAgICBoMSwKICAgICAgICBoMiB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTAwJTsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDsKICAgICAgICB9CgogICAgICAgIGh0bWwgewogICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgICAgIH0KCiAgICAgICAgKiwgKjo6YmVmb3JlLCAqOjphZnRlciB7CiAgICAgICAKICAgIDwvZGl2PgogIDwvZm9yZWlnbk9iamVjdD4KPC9zdmc+Cg==",alt:"blockdiag"})}),"\n",(0,r.jsx)(n.h3,{id:"reading-with-change-tracking",children:"Reading with change tracking"}),"\n",(0,r.jsx)(n.p,{children:"To configure a source for a table with change tracking:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:'connectors.AddSqlServerSource(() => "connectionstring");\n\nconnectors.AddSqlServerSource(new SqlServerSourceOptions\n{\n    ConnectionStringFunc = () => "",\n});\n'})}),"\n",(0,r.jsxs)(n.p,{children:["By default changes are fetched once per second and can be modified using the ",(0,r.jsx)(n.code,{children:"DeltaLoadInterval"})," option."]}),"\n",(0,r.jsx)(n.h3,{id:"reading-without-change-tracking",children:"Reading without change tracking"}),"\n",(0,r.jsxs)(n.p,{children:["Flowtide can read data from sources that do not have change tracking enabled. For these sources data are all data is fetched on an interval, specified with the ",(0,r.jsx)(n.code,{children:"FullReloadInterval"})," option on the source."]}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsx)(n.p,{children:"Note that changes are not directly caught when change tracking is disabled."})}),"\n",(0,r.jsx)(n.h4,{id:"reading-from-views",children:"Reading from views"}),"\n",(0,r.jsx)(n.p,{children:"To allow  from sql server views the following options must be set:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:'connectors.AddSqlServerSource(new SqlServerSourceOptions\n{\n    ConnectionStringFunc = () => "",\n    EnableFullReload = true,\n    FullReloadInterval = TimeSpan.FromHours(24),\n});\n'})}),"\n",(0,r.jsx)(n.p,{children:"This will read all data from the view on an interval specified. Delta loading data is not enabled when targeting a view."}),"\n",(0,r.jsx)(n.h4,{id:"reading-from-tables",children:"Reading from tables"}),"\n",(0,r.jsxs)(n.p,{children:["When targeting a table that does not have change tracking enabled an additional option must be provided ",(0,r.jsx)(n.code,{children:"AllowFullReloadOnTablesWithoutChangeTracking"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:'connectors.AddSqlServerSource(new SqlServerSourceOptions\n{\n    ConnectionStringFunc = () => "",\n    EnableFullReload = true,\n    FullReloadInterval = TimeSpan.FromHours(24),\n    AllowFullReloadOnTablesWithoutChangeTracking = true\n});\n'})}),"\n",(0,r.jsxs)(n.p,{children:["This will read all data from the table on an interval specified in ",(0,r.jsx)(n.code,{children:"FullReloadInterval"}),". Delta loading data is not enabled when targeting a table without change tracking."]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:"If the table supports change tracking, delta loading will still be used even if these options are provided. But a full load will occur on the provided interval."})}),"\n",(0,r.jsx)(n.h4,{id:"reading-from-large-views-or-tables-without-change-tracking",children:"Reading from large views or tables without change tracking"}),"\n",(0,r.jsxs)(n.p,{children:["When targeting a large view or table it's possible to control the allowed size (number of rows) with the ",(0,r.jsx)(n.code,{children:"FullLoadMaxRowCount"})," option. This default value is 1 000 000 rows."]}),"\n",(0,r.jsx)(n.h3,{id:"retry-strategy-reading-from-sql-server",children:"Retry strategy (reading from SQL Server)"}),"\n",(0,r.jsx)(n.p,{children:"By default the SQL Server source has a default retry strategy that will retry up to 10 times with increasing intervals, totaling a period of ~16 minutes.\nIf no successful connection could be made during this period the stream will be restarted."}),"\n",(0,r.jsxs)(n.p,{children:["A custom pipeline can be specified on the source by setting the ",(0,r.jsx)(n.code,{children:"ResiliencePipeline"})," property."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"connectors.AddSqlServerSource(new SqlServerSourceOptions\n{\n    ResiliencePipeline = myPipeline\n});\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Flowtide uses ",(0,r.jsx)(n.code,{children:"polly"})," to handle retries, documentation and examples can be found here: ",(0,r.jsx)(n.a,{href:"https://github.com/App-vNext/Polly",children:"Polly"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"sink",children:"Sink"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.em,{children:"SQL Server Sink"})," implements the ",(0,r.jsx)(n.em,{children:"grouped write operator"}),". This means that all rows are grouped by a primary key, thus all\nsink tables must have a primary key defined."]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:"All SQL Server Sink tables must have a primary key defined. The primary key must also be in the query that fills the table."})}),"\n",(0,r.jsx)(n.p,{children:"Its implementation waits fully until the stream has reached a steady state at a time T until it writes data to the database.\nThis means that its table output can always be traced back to a state from the source systems."}),"\n",(0,r.jsxs)(n.p,{children:["To use the ",(0,r.jsx)(n.em,{children:"SQL Server Sink"})," add the following line to the ",(0,r.jsx)(n.em,{children:"ConnectorManager"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"connectorManager.AddSqlServerSink(() => connectionString);\n"})}),"\n",(0,r.jsxs)(n.p,{children:["As with the ",(0,r.jsx)(n.em,{children:"SQL Server Source"}),", the connection string is returned by a function to enable dynamic connection strings."]}),"\n",(0,r.jsxs)(n.p,{children:["The sink inserts data into ",(0,r.jsx)(n.em,{children:"SQL Server"})," by creating a temporary table, which follows the table structure of the destination with an added operation metadata column.\nThe data is inserted into the temporary table using ",(0,r.jsx)(n.em,{children:"Bulk Copy"}),". This allows for fast binary insertion into the temporary table."]}),"\n",(0,r.jsx)(n.p,{children:"After data has been inserted into the temporary table, a merge into statement is run that merges data into the destination table.\nAfter all data has been merged, the temporary table is cleared of all data."}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsx)(n.p,{children:"If there are multiple rows in the result with the same primary key, only the latest seen row will be inserted into the destination table."})}),"\n",(0,r.jsx)(n.h3,{id:"custom-primary-keys",children:"Custom Primary Keys"}),"\n",(0,r.jsx)(n.p,{children:"In some scenarios you may want to override the table's primary keys or the table might not have a primary key configured.\nIn this scenario you can provide column names for the columns you want Flowtide to use as primary keys."}),"\n",(0,r.jsx)(n.p,{children:"Ex:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:'connectorManager.AddSqlServerSink("your regexp on table names", new SqlServerSinkOptions() {\n  ConnectionStringFunc = () => connectionString,\n  CustomPrimaryKeys = new List<string>() { "my_column1", "my_column2" }\n});\n'})}),"\n",(0,r.jsx)(n.h2,{id:"sql-table-provider",children:"SQL Table Provider"}),"\n",(0,r.jsxs)(n.p,{children:["The SQL table provider is added to the ",(0,r.jsx)(n.em,{children:"SQL plan builder"})," which will try and look after used tables in its configured ",(0,r.jsx)(n.em,{children:"SQL Server"}),".\nIt provides metadata information about what the column names are in the table."]}),"\n",(0,r.jsxs)(n.p,{children:["To use the ",(0,r.jsx)(n.em,{children:"table provider"})," add the following line to the ",(0,r.jsx)(n.em,{children:"Sql plan builder"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"sqlBuilder.AddSqlServerProvider(() => connectionString);\n"})}),"\n",(0,r.jsx)(n.p,{children:"If you are starting Flowtide with dependency injection, a table provider is added automatically, so this step is not required."})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>s});var t=i(6540);const r={},a=t.createContext(r);function l(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);