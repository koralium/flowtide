"use strict";(globalThis.webpackChunkflowtide=globalThis.webpackChunkflowtide||[]).push([[4991],{3570(e,i,n){n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>a,default:()=>m,frontMatter:()=>r,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"expressions/scalarfunctions/datetime","title":"Datetime Functions","description":"Strftime","source":"@site/docs/expressions/scalarfunctions/datetime.md","sourceDirName":"expressions/scalarfunctions","slug":"/expressions/scalarfunctions/datetime","permalink":"/flowtide/docs/expressions/scalarfunctions/datetime","draft":false,"unlisted":false,"editUrl":"https://github.com/koralium/flowtide/tree/main/docs/docs/expressions/scalarfunctions/datetime.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Rounding Functions","permalink":"/flowtide/docs/expressions/scalarfunctions/rounding"},"next":{"title":"Check Functions","permalink":"/flowtide/docs/expressions/scalarfunctions/check"}}');var t=n(4848),d=n(8453);const r={sidebar_position:6},a="Datetime Functions",l={},o=[{value:"Strftime",id:"strftime",level:2},{value:"SQL Usage",id:"sql-usage",level:3},{value:"Get timestamp",id:"get-timestamp",level:2},{value:"SQL Usage",id:"sql-usage-1",level:3},{value:"Floor timestamp day",id:"floor-timestamp-day",level:2},{value:"SQL Usage",id:"sql-usage-2",level:3},{value:"Timestamp Parse",id:"timestamp-parse",level:2},{value:"Timestamp Extract",id:"timestamp-extract",level:2},{value:"SQL Usage",id:"sql-usage-3",level:3},{value:"Timestamp Format",id:"timestamp-format",level:2},{value:"SQL Usage",id:"sql-usage-4",level:3},{value:"Timestamp Add",id:"timestamp-add",level:2},{value:"Supported Components",id:"supported-components",level:3},{value:"SQL Usage",id:"sql-usage-5",level:3},{value:"Datediff",id:"datediff",level:2},{value:"Supported Components",id:"supported-components-1",level:3},{value:"SQL Usage",id:"sql-usage-6",level:3},{value:"Round Calendar",id:"round-calendar",level:2},{value:"SQL Usage",id:"sql-usage-7",level:3}];function c(e){const i={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"datetime-functions",children:"Datetime Functions"})}),"\n",(0,t.jsx)(i.h2,{id:"strftime",children:"Strftime"}),"\n",(0,t.jsx)(i.admonition,{type:"warning",children:(0,t.jsxs)(i.p,{children:["This function exists for backwards compatibility and compliance with substrait. If possible please use ",(0,t.jsx)(i.a,{href:"#timestamp-format",children:"Timestamp Format"}),"."]})}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.a,{href:"https://substrait.io/extensions/functions_datetime/#strftime",children:"Substrait definition"})}),"\n",(0,t.jsxs)(i.p,{children:["Converts a timestamp in microseconds since 1970-01-01 00:00:00.000000 to a string.\nSee ",(0,t.jsx)(i.a,{href:"https://man7.org/linux/man-pages/man3/strftime.3.html",children:"strftime"})," on how to to write the format string."]}),"\n",(0,t.jsx)(i.p,{children:"Arguments:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsx)(i.li,{children:"Timestamp in microseconds"}),"\n",(0,t.jsx)(i.li,{children:"Format as a string"}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"sql-usage",children:"SQL Usage"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-sql",children:"INSERT INTO output\nSELECT\n    strftime(Orderdate, '%Y-%m-%d %H:%M:%S') as Orderdate\nFROM Orders\n"})}),"\n",(0,t.jsx)(i.h2,{id:"get-timestamp",children:"Get timestamp"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.em,{children:"This function has no substrait equivalent"})}),"\n",(0,t.jsx)(i.admonition,{type:"warning",children:(0,t.jsx)(i.p,{children:"Get timestamp is not yet supported inside of join conditions."})}),"\n",(0,t.jsx)(i.admonition,{type:"info",children:(0,t.jsxs)(i.p,{children:["If you do comparisons with ",(0,t.jsx)(i.em,{children:"gettimestamp"})," it may be benificial to use buffered views to only send out changed rows to the rest of the stream.\nPlease see ",(0,t.jsx)(i.a,{href:"/docs/sql/createview#buffered-view",children:"Buffered view"}),"."]})}),"\n",(0,t.jsx)(i.p,{children:"Get the current timestamp (current datetime)."}),"\n",(0,t.jsx)(i.p,{children:"This is a meta function that itself does no computation, but is instead replaced during the optimization step with\njoins against a timestamp data source."}),"\n",(0,t.jsx)(i.p,{children:"Example:"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjAvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMtU1ZHLTIwMDEwOTA0L0RURC9zdmcxMC5kdGQiPgo8c3ZnIHZpZXdCb3g9IjAgMCA2NDAgMTIwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOmlua3NwYWNlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgPGRlZnMgaWQ9ImRlZnNfYmxvY2siPgogICAgPGZpbHRlciBoZWlnaHQ9IjEuNTA0IiBpZD0iZmlsdGVyX2JsdXIiIGlua3NwYWNlOmNvbGxlY3Q9ImFsd2F5cyIgd2lkdGg9IjEuMTU3NSIgeD0iLTAuMDc4NzUiIHk9Ii0wLjI1MiI+CiAgICAgIDxmZUdhdXNzaWFuQmx1ciBpZD0iZmVHYXVzc2lhbkJsdXIzNzgwIiBpbmtzcGFjZTpjb2xsZWN0PSJhbHdheXMiIHN0ZERldmlhdGlvbj0iNC4yIiAvPgogICAgPC9maWx0ZXI+CiAgPC9kZWZzPgogIDx0aXRsZT5ibG9ja2RpYWc8L3RpdGxlPgogIDxkZXNjPiAgYmxvY2tkaWFnIHsKICAgIFNvdXJjZSAtJmd0OyBQcm9qZWN0IC0mZ3Q7IFdyaXRlCiAgfTwvZGVzYz4KICA8cmVjdCBmaWxsPSJyZ2IoMCwwLDApIiBoZWlnaHQ9IjQwIiBzdHJva2U9InJnYigwLDAsMCkiIHN0eWxlPSJmaWx0ZXI6dXJsKCNmaWx0ZXJfYmx1cik7b3BhY2l0eTowLjc7ZmlsbC1vcGFjaXR5OjEiIHdpZHRoPSIxMjgiIHg9IjY3IiB5PSI0NiIgLz4KICA8cmVjdCBmaWxsPSJyZ2IoMCwwLDApIiBoZWlnaHQ9IjQwIiBzdHJva2U9InJnYigwLDAsMCkiIHN0eWxlPSJmaWx0ZXI6dXJsKCNmaWx0ZXJfYmx1cik7b3BhY2l0eTowLjc7ZmlsbC1vcGFjaXR5OjEiIHdpZHRoPSIxMjgiIHg9IjI1OSIgeT0iNDYiIC8+CiAgPHJlY3QgZmlsbD0icmdiKDAsMCwwKSIgaGVpZ2h0PSI0MCIgc3Ryb2tlPSJyZ2IoMCwwLDApIiBzdHlsZT0iZmlsdGVyOnVybCgjZmlsdGVyX2JsdXIpO29wYWNpdHk6MC43O2ZpbGwtb3BhY2l0eToxIiB3aWR0aD0iMTI4IiB4PSI0NTEiIHk9IjQ2IiAvPgogIDxyZWN0IGZpbGw9InJnYigyNTUsMjU1LDI1NSkiIGhlaWdodD0iNDAiIHN0cm9rZT0icmdiKDAsMCwwKSIgd2lkdGg9IjEyOCIgeD0iNjQiIHk9IjQwIiAvPgogIDx0ZXh0IGZpbGw9InJnYigwLDAsMCkiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBmb250LXN0eWxlPSJub3JtYWwiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHRleHQtYW5jaG9yPSJtaWRkbGUiIHRleHRMZW5ndGg9IjM5IiB4PSIxMjguNSIgeT0iNjYiPlNvdXJjZTwvdGV4dD4KICA8cmVjdCBmaWxsPSJyZ2IoMjU1LDI1NSwyNTUpIiBoZWlnaHQ9IjQwIiBzdHJva2U9InJnYigwLDAsMCkiIHdpZHRoPSIxMjgiIHg9IjI1NiIgeT0iNDAiIC8+CiAgPHRleHQgZmlsbD0icmdiKDAsMCwwKSIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGZvbnQtc3R5bGU9Im5vcm1hbCIgZm9udC13ZWlnaHQ9Im5vcm1hbCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgdGV4dExlbmd0aD0iNDAiIHg9IjMyMC4wIiB5PSI2NyI+UHJvamVjdDwvdGV4dD4KICA8cmVjdCBmaWxsPSJyZ2IoMjU1LDI1NSwyNTUpIiBoZWlnaHQ9IjQwIiBzdHJva2U9InJnYigwLDAsMCkiIHdpZHRoPSIxMjgiIHg9IjQ0OCIgeT0iNDAiIC8+CiAgPHRleHQgZmlsbD0icmdiKDAsMCwwKSIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGZvbnQtc3R5bGU9Im5vcm1hbCIgZm9udC13ZWlnaHQ9Im5vcm1hbCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgdGV4dExlbmd0aD0iMzEiIHg9IjUxMi41IiB5PSI2NiI+V3JpdGU8L3RleHQ+CiAgPHBhdGggZD0iTSAxOTIgNjAgTCAyNDggNjAiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiKDAsMCwwKSIgLz4KICA8cG9seWdvbiBmaWxsPSJyZ2IoMCwwLDApIiBwb2ludHM9IjI1NSw2MCAyNDgsNTYgMjQ4LDY0IDI1NSw2MCIgc3Ryb2tlPSJyZ2IoMCwwLDApIiAvPgogIDxwYXRoIGQ9Ik0gMzg0IDYwIEwgNDQwIDYwIiBmaWxsPSJub25lIiBzdHJva2U9InJnYigwLDAsMCkiIC8+CiAgPHBvbHlnb24gZmlsbD0icmdiKDAsMCwwKSIgcG9pbnRzPSI0NDcsNjAgNDQwLDU2IDQ0MCw2NCA0NDcsNjAiIHN0cm9rZT0icmdiKDAsMCwwKSIgLz4KPC9zdmc+Cg==",alt:"blockdiag"})}),"\n",(0,t.jsx)(i.p,{children:"Where if project uses gettimestamp becomes:"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjAvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMtU1ZHLTIwMDEwOTA0L0RURC9zdmcxMC5kdGQiPgo8c3ZnIHZpZXdCb3g9IjAgMCA4MzIgMjAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOmlua3NwYWNlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgPGRlZnMgaWQ9ImRlZnNfYmxvY2siPgogICAgPGZpbHRlciBoZWlnaHQ9IjEuNTA0IiBpZD0iZmlsdGVyX2JsdXIiIGlua3NwYWNlOmNvbGxlY3Q9ImFsd2F5cyIgd2lkdGg9IjEuMTU3NSIgeD0iLTAuMDc4NzUiIHk9Ii0wLjI1MiI+CiAgICAgIDxmZUdhdXNzaWFuQmx1ciBpZD0iZmVHYXVzc2lhbkJsdXIzNzgwIiBpbmtzcGFjZTpjb2xsZWN0PSJhbHdheXMiIHN0ZERldmlhdGlvbj0iNC4yIiAvPgogICAgPC9maWx0ZXI+CiAgPC9kZWZzPgogIDx0aXRsZT5ibG9ja2RpYWc8L3RpdGxlPgogIDxkZXNjPiAgYmxvY2tkaWFnIHsKICAgIFNvdXJjZSAtJmd0OyBDcm9zc0pvaW4gLSZndDsgUHJvamVjdCAtJmd0OyBXcml0ZTsKICAgIFRpbWVzdGFtcFByb3ZpZGVyIC0mZ3Q7IENyb3NzSm9pbjsKICB9PC9kZXNjPgogIDxyZWN0IGZpbGw9InJnYigwLDAsMCkiIGhlaWdodD0iNDAiIHN0cm9rZT0icmdiKDAsMCwwKSIgc3R5bGU9ImZpbHRlcjp1cmwoI2ZpbHRlcl9ibHVyKTtvcGFjaXR5OjAuNztmaWxsLW9wYWNpdHk6MSIgd2lkdGg9IjEyOCIgeD0iNjciIHk9IjQ2IiAvPgogIDxyZWN0IGZpbGw9InJnYigwLDAsMCkiIGhlaWdodD0iNDAiIHN0cm9rZT0icmdiKDAsMCwwKSIgc3R5bGU9ImZpbHRlcjp1cmwoI2ZpbHRlcl9ibHVyKTtvcGFjaXR5OjAuNztmaWxsLW9wYWNpdHk6MSIgd2lkdGg9IjEyOCIgeD0iNjciIHk9IjEyNiIgLz4KICA8cmVjdCBmaWxsPSJyZ2IoMCwwLDApIiBoZWlnaHQ9IjQwIiBzdHJva2U9InJnYigwLDAsMCkiIHN0eWxlPSJmaWx0ZXI6dXJsKCNmaWx0ZXJfYmx1cik7b3BhY2l0eTowLjc7ZmlsbC1vcGFjaXR5OjEiIHdpZHRoPSIxMjgiIHg9IjI1OSIgeT0iNDYiIC8+CiAgPHJlY3QgZmlsbD0icmdiKDAsMCwwKSIgaGVpZ2h0PSI0MCIgc3Ryb2tlPSJyZ2IoMCwwLDApIiBzdHlsZT0iZmlsdGVyOnVybCgjZmlsdGVyX2JsdXIpO29wYWNpdHk6MC43O2ZpbGwtb3BhY2l0eToxIiB3aWR0aD0iMTI4IiB4PSI0NTEiIHk9IjQ2IiAvPgogIDxyZWN0IGZpbGw9InJnYigwLDAsMCkiIGhlaWdodD0iNDAiIHN0cm9rZT0icmdiKDAsMCwwKSIgc3R5bGU9ImZpbHRlcjp1cmwoI2ZpbHRlcl9ibHVyKTtvcGFjaXR5OjAuNztmaWxsLW9wYWNpdHk6MSIgd2lkdGg9IjEyOCIgeD0iNjQzIiB5PSI0NiIgLz4KICA8cmVjdCBmaWxsPSJyZ2IoMjU1LDI1NSwyNTUpIiBoZWlnaHQ9IjQwIiBzdHJva2U9InJnYigwLDAsMCkiIHdpZHRoPSIxMjgiIHg9IjY0IiB5PSI0MCIgLz4KICA8dGV4dCBmaWxsPSJyZ2IoMCwwLDApIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgZm9udC1zdHlsZT0ibm9ybWFsIiBmb250LXdlaWdodD0ibm9ybWFsIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB0ZXh0TGVuZ3RoPSIzOSIgeD0iMTI4LjUiIHk9IjY2Ij5Tb3VyY2U8L3RleHQ+CiAgPHJlY3QgZmlsbD0icmdiKDI1NSwyNTUsMjU1KSIgaGVpZ2h0PSI0MCIgc3Ryb2tlPSJyZ2IoMCwwLDApIiB3aWR0aD0iMTI4IiB4PSI2NCIgeT0iMTIwIiAvPgogIDx0ZXh0IGZpbGw9InJnYigwLDAsMCkiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBmb250LXN0eWxlPSJub3JtYWwiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHRleHQtYW5jaG9yPSJtaWRkbGUiIHRleHRMZW5ndGg9IjExMSIgeD0iMTI4LjUiIHk9IjE0NyI+VGltZXN0YW1wUHJvdmlkZXI8L3RleHQ+CiAgPHJlY3QgZmlsbD0icmdiKDI1NSwyNTUsMjU1KSIgaGVpZ2h0PSI0MCIgc3Ryb2tlPSJyZ2IoMCwwLDApIiB3aWR0aD0iMTI4IiB4PSIyNTYiIHk9IjQwIiAvPgogIDx0ZXh0IGZpbGw9InJnYigwLDAsMCkiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBmb250LXN0eWxlPSJub3JtYWwiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHRleHQtYW5jaG9yPSJtaWRkbGUiIHRleHRMZW5ndGg9IjUzIiB4PSIzMjAuNSIgeT0iNjciPkNyb3NzSm9pbjwvdGV4dD4KICA8cmVjdCBmaWxsPSJyZ2IoMjU1LDI1NSwyNTUpIiBoZWlnaHQ9IjQwIiBzdHJva2U9InJnYigwLDAsMCkiIHdpZHRoPSIxMjgiIHg9IjQ0OCIgeT0iNDAiIC8+CiAgPHRleHQgZmlsbD0icmdiKDAsMCwwKSIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGZvbnQtc3R5bGU9Im5vcm1hbCIgZm9udC13ZWlnaHQ9Im5vcm1hbCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgdGV4dExlbmd0aD0iNDAiIHg9IjUxMi4wIiB5PSI2NyI+UHJvamVjdDwvdGV4dD4KICA8cmVjdCBmaWxsPSJyZ2IoMjU1LDI1NSwyNTUpIiBoZWlnaHQ9IjQwIiBzdHJva2U9InJnYigwLDAsMCkiIHdpZHRoPSIxMjgiIHg9IjY0MCIgeT0iNDAiIC8+CiAgPHRleHQgZmlsbD0icmdiKDAsMCwwKSIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGZvbnQtc3R5bGU9Im5vcm1hbCIgZm9udC13ZWlnaHQ9Im5vcm1hbCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgdGV4dExlbmd0aD0iMzEiIHg9IjcwNC41IiB5PSI2NiI+V3JpdGU8L3RleHQ+CiAgPHBhdGggZD0iTSAxOTIgNjAgTCAyNDggNjAiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiKDAsMCwwKSIgLz4KICA8cG9seWdvbiBmaWxsPSJyZ2IoMCwwLDApIiBwb2ludHM9IjI1NSw2MCAyNDgsNTYgMjQ4LDY0IDI1NSw2MCIgc3Ryb2tlPSJyZ2IoMCwwLDApIiAvPgogIDxwYXRoIGQ9Ik0gMzg0IDYwIEwgNDQwIDYwIiBmaWxsPSJub25lIiBzdHJva2U9InJnYigwLDAsMCkiIC8+CiAgPHBvbHlnb24gZmlsbD0icmdiKDAsMCwwKSIgcG9pbnRzPSI0NDcsNjAgNDQwLDU2IDQ0MCw2NCA0NDcsNjAiIHN0cm9rZT0icmdiKDAsMCwwKSIgLz4KICA8cGF0aCBkPSJNIDU3NiA2MCBMIDYzMiA2MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJyZ2IoMCwwLDApIiAvPgogIDxwb2x5Z29uIGZpbGw9InJnYigwLDAsMCkiIHBvaW50cz0iNjM5LDYwIDYzMiw1NiA2MzIsNjQgNjM5LDYwIiBzdHJva2U9InJnYigwLDAsMCkiIC8+CiAgPHBhdGggZD0iTSAxOTIgMTQwIEwgMjQwIDE0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJyZ2IoMCwwLDApIiAvPgogIDxwYXRoIGQ9Ik0gMjQwIDE0MCBMIDI0MCA2MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJyZ2IoMCwwLDApIiAvPgogIDxwYXRoIGQ9Ik0gMjQwIDYwIEwgMjQ4IDYwIiBmaWxsPSJub25lIiBzdHJva2U9InJnYigwLDAsMCkiIC8+CiAgPHBvbHlnb24gZmlsbD0icmdiKDAsMCwwKSIgcG9pbnRzPSIyNTUsNjAgMjQ4LDU2IDI0OCw2NCAyNTUsNjAiIHN0cm9rZT0icmdiKDAsMCwwKSIgLz4KPC9zdmc+Cg==",alt:"blockdiag"})}),"\n",(0,t.jsxs)(i.p,{children:["This means that all rows that are evaluated will have the same value of ",(0,t.jsx)(i.em,{children:"gettimestamp"})," to ensure consistent results."]}),"\n",(0,t.jsx)(i.p,{children:"The timestamp provider also publishes a watermark called '__timestamp' which can be used to see the current time that has been evaluted in the stream."}),"\n",(0,t.jsx)(i.p,{children:"By default the timestamp is updated every hour. This is configurable during the stream setup:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-csharp",children:"streamBuilder\n    .SetGetTimestampUpdateInterval(TimeSpan.FromHours(12))\n"})}),"\n",(0,t.jsx)(i.h3,{id:"sql-usage-1",children:"SQL Usage"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-sql",children:"INSERT INTO output\nSELECT\n    gettimestamp() as CurrentDateTime\nFROM Orders\n"})}),"\n",(0,t.jsx)(i.h2,{id:"floor-timestamp-day",children:"Floor timestamp day"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.em,{children:"This function has no substrait equivalent"})}),"\n",(0,t.jsx)(i.p,{children:"Rounds a timestamp down to the nearest day by removing the time portion (hours, minutes, seconds, etc.). If the input is null or not of the type timestamp, the result is null."}),"\n",(0,t.jsx)(i.h3,{id:"sql-usage-2",children:"SQL Usage"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-sql",children:"SELECT floor_timestamp_day(timestamp_column) FROM ...\n"})}),"\n",(0,t.jsx)(i.h2,{id:"timestamp-parse",children:"Timestamp Parse"}),"\n",(0,t.jsxs)(i.p,{children:["The ",(0,t.jsx)(i.code,{children:"timestamp_parse"})," function converts a string representation of a date and/or time into a ",(0,t.jsx)(i.code,{children:"timestamp"})," value, using a specified format string."]}),"\n",(0,t.jsx)(i.p,{children:"The format string follows the .NET DateTime format, allowing for flexible and expressive parsing patterns. This includes support for components like year (yyyy), month (MM), day (dd), hour (HH/hh), minute (mm), second (ss), fractional seconds (fff), time zone offsets (zzz), and more."}),"\n",(0,t.jsxs)(i.p,{children:["The format string follows the ",(0,t.jsx)(i.a,{href:"https://learn.microsoft.com/en-us/dotnet/standard/base-types/custom-date-and-time-format-strings",children:".NET DateTime format"}),"."]}),"\n",(0,t.jsxs)(i.p,{children:["If the input string does not match the provided format exactly, the function will return ",(0,t.jsx)(i.code,{children:"NULL"}),"."]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-sql",children:"-- Basic date parsing\nSELECT TIMESTAMP_PARSE('2025-04-16', 'yyyy-MM-dd');\n\n-- Date and time parsing with 24-hour format\nSELECT TIMESTAMP_PARSE('2025-04-16 14:30:45', 'yyyy-MM-dd HH:mm:ss');\n"})}),"\n",(0,t.jsx)(i.h2,{id:"timestamp-extract",children:"Timestamp Extract"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.a,{href:"https://substrait.io/extensions/functions_datetime/#extract",children:"Substrait definition"})}),"\n",(0,t.jsx)(i.p,{children:"Extract portion of a timestamp value. This follows the substrait description and has the following component values:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"YEAR Return the year."}),"\n",(0,t.jsx)(i.li,{children:"ISO_YEAR Return the ISO 8601 week-numbering year. First week of an ISO year has the majority (4 or more) of\nits days in January."}),"\n",(0,t.jsx)(i.li,{children:"US_YEAR Return the US epidemiological year. First week of US epidemiological year has the majority (4 or more)\nof its days in January. Last week of US epidemiological year has the year's last Wednesday in it. US\nepidemiological week starts on Sunday."}),"\n",(0,t.jsx)(i.li,{children:"QUARTER Return the number of the quarter within the year. January 1 through March 31 map to the first quarter,\nApril 1 through June 30 map to the second quarter, etc."}),"\n",(0,t.jsx)(i.li,{children:"MONTH Return the number of the month within the year."}),"\n",(0,t.jsx)(i.li,{children:"DAY Return the number of the day within the month."}),"\n",(0,t.jsx)(i.li,{children:"DAY_OF_YEAR Return the number of the day within the year. January 1 maps to the first day, February 1 maps to\nthe thirty-second day, etc."}),"\n",(0,t.jsx)(i.li,{children:"MONDAY_DAY_OF_WEEK Return the number of the day within the week, from Monday (first day) to Sunday (seventh\nday)."}),"\n",(0,t.jsx)(i.li,{children:"SUNDAY_DAY_OF_WEEK Return the number of the day within the week, from Sunday (first day) to Saturday (seventh\nday)."}),"\n",(0,t.jsx)(i.li,{children:"MONDAY_WEEK Return the number of the week within the year. First week starts on first Monday of January."}),"\n",(0,t.jsx)(i.li,{children:"SUNDAY_WEEK Return the number of the week within the year. First week starts on first Sunday of January."}),"\n",(0,t.jsx)(i.li,{children:"ISO_WEEK Return the number of the ISO week within the ISO year. First ISO week has the majority (4 or more)\nof its days in January. ISO week starts on Monday."}),"\n",(0,t.jsx)(i.li,{children:"US_WEEK Return the number of the US week within the US year. First US week has the majority (4 or more) of\nits days in January. US week starts on Sunday."}),"\n",(0,t.jsx)(i.li,{children:"HOUR Return the hour (0-23)."}),"\n",(0,t.jsx)(i.li,{children:"MINUTE Return the minute (0-59)."}),"\n",(0,t.jsx)(i.li,{children:"SECOND Return the second (0-59)."}),"\n",(0,t.jsx)(i.li,{children:"MILLISECOND Return number of milliseconds since the last full second."}),"\n",(0,t.jsx)(i.li,{children:"MICROSECOND Return number of microseconds since the last full millisecond."}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"sql-usage-3",children:"SQL Usage"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-sql",children:"SELECT timestamp_extract(component, val) FROM ...\nSELECT timestamp_extract('YEAR', val) FROM ...\nSELECT timestamp_extract('QUARTER', val) FROM ...\n"})}),"\n",(0,t.jsx)(i.h2,{id:"timestamp-format",children:"Timestamp Format"}),"\n",(0,t.jsxs)(i.p,{children:["The ",(0,t.jsx)(i.code,{children:"timestamp_format"})," function formats a ",(0,t.jsx)(i.code,{children:"timestamp"})," value into a string representation using a specified format string."]}),"\n",(0,t.jsxs)(i.p,{children:["The format string follows the .NET DateTime format. This includes support for components like year (",(0,t.jsx)(i.code,{children:"yyyy"}),"), month (",(0,t.jsx)(i.code,{children:"MM"}),"), day (",(0,t.jsx)(i.code,{children:"dd"}),"), hour (",(0,t.jsx)(i.code,{children:"HH"}),"/",(0,t.jsx)(i.code,{children:"hh"}),"), minute (",(0,t.jsx)(i.code,{children:"mm"}),"), second (",(0,t.jsx)(i.code,{children:"ss"}),"), fractional seconds (",(0,t.jsx)(i.code,{children:"fff"}),"), time zone offsets (",(0,t.jsx)(i.code,{children:"zzz"}),"), and more."]}),"\n",(0,t.jsxs)(i.p,{children:["The format string follows the ",(0,t.jsx)(i.a,{href:"https://learn.microsoft.com/en-us/dotnet/standard/base-types/custom-date-and-time-format-strings",children:".NET DateTime format"}),"."]}),"\n",(0,t.jsxs)(i.p,{children:["If the input timestamp is ",(0,t.jsx)(i.code,{children:"NULL"})," or the format string is ",(0,t.jsx)(i.code,{children:"NULL"}),", the function will return ",(0,t.jsx)(i.code,{children:"NULL"}),"."]}),"\n",(0,t.jsx)(i.h3,{id:"sql-usage-4",children:"SQL Usage"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-sql",children:"SELECT TIMESTAMP_FORMAT(timestampColumn, 'yyyy-MM-dd');\n"})}),"\n",(0,t.jsx)(i.h2,{id:"timestamp-add",children:"Timestamp Add"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.em,{children:"This function has no substrait equivalent"})}),"\n",(0,t.jsx)(i.p,{children:"Add a specified time interval to a timestamp value. The result is a new timestamp value with the interval added."}),"\n",(0,t.jsx)(i.h3,{id:"supported-components",children:"Supported Components"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"YEAR"})," Add the specified number of years."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"QUARTER"})," Add the specified number of quarters (3-month intervals)."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"MONTH"})," Add the specified number of months."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"WEEK"})," Add the specified number of weeks (7-day intervals)."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"DAY"})," Add the specified number of days."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"HOUR"})," Add the specified number of hours."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"MINUTE"})," Add the specified number of minutes."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"SECOND"})," Add the specified number of seconds."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"MILLISECOND"})," Add the specified number of milliseconds."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"MICROSECOND"})," Add the specified number of microseconds."]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"sql-usage-5",children:"SQL Usage"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-sql",children:"SELECT TIMESTAMP_ADD(component, amount, timestamp) FROM ...\nSELECT TIMESTAMP_ADD('DAY', 7, timestamp_column) FROM ...\nSELECT TIMESTAMP_ADD('MONTH', 3, timestamp_column) FROM ...\n"})}),"\n",(0,t.jsx)(i.h2,{id:"datediff",children:"Datediff"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.em,{children:"This function has no Substrait equivalent"})}),"\n",(0,t.jsxs)(i.p,{children:["Calculates the number of datepart boundaries crossed between two timestamp values.",(0,t.jsx)(i.br,{}),"\n","The result is an integer representing how many complete intervals of the given component exist between the ",(0,t.jsx)(i.code,{children:"start"})," and ",(0,t.jsx)(i.code,{children:"end"})," timestamps."]}),"\n",(0,t.jsxs)(i.p,{children:["This behavior matches ",(0,t.jsxs)(i.strong,{children:["SQL Server\u2019s ",(0,t.jsx)(i.code,{children:"DATEDIFF"})]}),", meaning it counts ",(0,t.jsx)(i.strong,{children:"boundary crossings"}),", not elapsed time.",(0,t.jsx)(i.br,{}),"\n","For example, one minute boundary is crossed between ",(0,t.jsx)(i.code,{children:"12:00:00"})," and ",(0,t.jsx)(i.code,{children:"12:01:00"}),", even if only one second of that minute passes."]}),"\n",(0,t.jsx)(i.h3,{id:"supported-components-1",children:"Supported Components"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"YEAR"})," \u2014 Number of year boundaries crossed."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"QUARTER"})," \u2014 Number of quarter (3-month) boundaries crossed."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"MONTH"})," \u2014 Number of month boundaries crossed."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"WEEK"})," \u2014 Number of week boundaries crossed (weeks start on Sunday)."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"DAY"})," \u2014 Number of day boundaries crossed (midnight-to-midnight)."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"HOUR"})," \u2014 Number of hour boundaries crossed."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"MINUTE"})," \u2014 Number of minute boundaries crossed."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"SECOND"})," \u2014 Number of second boundaries crossed."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"MILLISECOND"})," \u2014 Number of millisecond boundaries crossed."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"MICROSECOND"})," \u2014 Number of microsecond boundaries crossed."]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"sql-usage-6",children:"SQL Usage"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-sql",children:"SELECT DATEDIFF(component, start, end) FROM ...;\n\n-- Examples\nSELECT DATEDIFF('DAY', '2024-01-01T00:00:00', '2024-01-02T00:00:00');   \nSELECT DATEDIFF('MINUTE', '2025-01-01T12:00:00', '2025-01-01T12:01:00'); \nSELECT DATEDIFF('MONTH', order_date, ship_date);\n"})}),"\n",(0,t.jsx)(i.h2,{id:"round-calendar",children:"Round Calendar"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.a,{href:"https://substrait.io/extensions/functions_datetime/#round_calendar",children:"Substrait definition"})}),"\n",(0,t.jsx)(i.p,{children:"Round a temporal value to a calendar boundary using a specified rounding strategy, unit, and origin. This follows the Substrait model and allows flexible alignment to calendar-based periods."}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.strong,{children:"Signature"})}),"\n",(0,t.jsx)(i.p,{children:"round_calendar(x, rounding, unit, origin, multiple)"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.strong,{children:"Parameters"})}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"x"}),(0,t.jsx)(i.br,{}),"\n","Timestamp value to be rounded."]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"rounding"}),(0,t.jsx)(i.br,{}),"\n","Rounding strategy to apply:"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"FLOOR"})," Round down to the nearest boundary."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"CEIL"})," Round up to the nearest boundary."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"ROUND_TIE_DOWN"})," Round to the nearest boundary; ties round downward."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"ROUND_TIE_UP"})," Round to the nearest boundary; ties round upward."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"unit"}),(0,t.jsx)(i.br,{}),"\n","Target unit to round to:"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"YEAR"})," Round to a year boundary."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"MONTH"})," Round to a month boundary."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"WEEK"})," Round to a week boundary (as defined by ",(0,t.jsx)(i.code,{children:"origin"}),")."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"DAY"})," Round to a day boundary."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"HOUR"})," Round to an hour boundary."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"MINUTE"})," Round to a minute boundary."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"SECOND"})," Round to a second boundary."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"MILLISECOND"})," Round to a millisecond boundary."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"origin"}),(0,t.jsx)(i.br,{}),"\n","Calendar alignment reference used when rounding:"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"YEAR"})," Align to the start of the calendar year."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"MONTH"})," Align to the start of each month."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"MONDAY_WEEK"})," Weeks begin on Monday."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"SUNDAY_WEEK"})," Weeks begin on Sunday."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"ISO_WEEK"})," ISO 8601 week definition; weeks start Monday and the first week has the majority of its days in January."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"US_WEEK"})," US epidemiological week definition; weeks start Sunday and the first week has the majority of its days in January."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"DAY"})," Align to day boundaries."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"HOUR"})," Align to hour boundaries."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"MINUTE"})," Align to minute boundaries."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"SECOND"})," Align to second boundaries."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"MILLISECOND"})," Align to millisecond boundaries."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"multiple"}),(0,t.jsx)(i.br,{}),"\n","Integer factor specifying grouping of the chosen unit (for example, every 5 minutes, every 2 months, etc.)."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"sql-usage-7",children:"SQL Usage"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-sql",children:"SELECT round_calendar(val, 'FLOOR', 'MONTH', 'YEAR', 1) FROM ...\nSELECT round_calendar(val, 'CEIL', 'WEEK', 'MONDAY_WEEK', 1) FROM ...\nSELECT round_calendar(val, 'ROUND_TIE_UP', 'MINUTE', 'HOUR', 5) FROM ...\n"})})]})}function m(e={}){const{wrapper:i}={...(0,d.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453(e,i,n){n.d(i,{R:()=>r,x:()=>a});var s=n(6540);const t={},d=s.createContext(t);function r(e){const i=s.useContext(d);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(d.Provider,{value:i},e.children)}}}]);